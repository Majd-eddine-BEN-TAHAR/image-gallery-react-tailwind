{"version":3,"sources":["assets/images/search.svg","components/ImageSearch/ImageSearch.js","components/Card/Card.js","components/Cards/Cards.js","components/Spinner/Spinner.js","hooks/useFetchImages.js","components/Main/Main.js","components/Header/Header.js","components/Footer/Footer.js","App.js","index.js"],"names":["module","exports","categories","ImageSearch","term","setTerm","category","setCategory","className","type","placeholder","value","onChange","e","target","alt","src","searchIcon","xmlns","viewBox","d","map","key","Card","img","owner","tags","cardStyle","downloads","likes","views","tag","index","Cards","error","imagesData","indexArray","length","imageData","Math","random","id","webformatURL","user","split","Spinner","ACTIONS","reducer","state","action","loading","payload","useFetchImages","useReducer","dispatch","useEffect","cancelRequestTimer","setTimeout","URL","encodeURIComponent","fetch","then","res","json","hits","catch","err","clearTimeout","Main","useState","Header","Footer","href","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51356d0d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/search.8051a858.svg\";","import React from \"react\";\nimport searchIcon from \"./../../assets/images/search.svg\";\n\nconst categories = [\n  \"all\",\n  \"backgrounds\",\n  \"fashion\",\n  \"nature\",\n  \"science\",\n  \"education\",\n  \"feelings\",\n  \"health\",\n  \"people\",\n  \"religion\",\n  \"places\",\n  \"animals\",\n  \"industry\",\n  \"computer\",\n  \"food\",\n  \"sports\",\n  \"transportation\",\n  \"travel\",\n  \"buildings\",\n  \"business\",\n  \"music\",\n];\n\nconst ImageSearch = ({ term, setTerm, category, setCategory }) => {\n  return (\n    <form className=\"flex flex-col justify-between items-start sm:flex-row w-full max-w-screen-md mx-auto pb-1\">\n      <div className=\"relative w-10/12 sm:w-5/12 mx-auto mt-2 sm:mr-8 border-b-2  border-green-400 focus-within:border-green-600 duration-100\">\n        <label className=\"text-2xl text-green-800\">Search by term :</label>\n        <input\n          type=\"text\"\n          placeholder=\"Enter some text...\"\n          className=\"w-full p-2 placeholder-gray-700 text-center\"\n          value={term}\n          onChange={(e) => setTerm(e.target.value)}\n        />\n        <img\n          alt=\"search\"\n          src={searchIcon}\n          className=\"h-6 absolute right-0 bottom-1\"\n        />\n      </div>\n      <div className=\"relative w-10/12 sm:w-5/12 mx-auto mt-6 sm:mt-2\">\n        <div className=\"pointer-events-none absolute inset-y-0 right-0  flex items-center px-2 text-gray-700 top-50\">\n          <svg\n            className=\"fill-current h-4 w-4\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </div>\n        <label className=\"text-2xl text-green-800 block mb-4 sm:mb-0\">\n          Search by category :\n        </label>\n        <select\n          value={category}\n          onChange={(e) => setCategory(e.target.value)}\n          className=\"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-3 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline\"\n        >\n          {categories.map((category) => (\n            <option key={category} value={category}>\n              {category}\n            </option>\n          ))}\n        </select>\n      </div>\n    </form>\n  );\n};\n\nexport default ImageSearch;\n","import React from \"react\";\n\nconst Card = ({ img, owner, tags, cardStyle, downloads, likes, views }) => {\n  return (\n    <div className={\"rounded overflow-hidden shadow-lg mt-4 \" + cardStyle}>\n      <img\n        className={\n          \"w-full h-48 object-cover \" +\n          (cardStyle === \"big\" || cardStyle === \"vertical\"\n            ? \"sm:h-130\"\n            : \"sm:h-48\")\n        }\n        src={img}\n        alt=\"CARD\"\n      />\n      <div className=\"px-6 py-4\">\n        <div className=\"font-bold text-xl mb-2 capitalize\">\n          photo by <span className=\"text-green-500\">{owner}</span>\n        </div>\n        <p className=\"text-gray-700 text-base pl-4\">\n          <strong className=\"capitalize\">views</strong> : {views}\n        </p>\n        <p className=\"text-gray-700 text-base pl-4\">\n          <strong className=\"capitalize\">downloads</strong> : {downloads}\n        </p>\n        <p className=\"text-gray-700 text-base pl-4\">\n          <strong className=\"capitalize\">likes</strong> : {likes}\n        </p>\n      </div>\n      <div className=\"px-6 pt-2 pb-1\">\n        {tags.map((tag, index) => {\n          return (\n            <span\n              key={index}\n              className=\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\"\n            >\n              #&nbsp;{tag}\n            </span>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"../Card/Card\";\n\nconst Cards = ({ error, imagesData }) => {\n  const indexArray = [\"horizontal\", \"vertical\", \"big\"];\n  let cardConteiner = (\n    <div className=\"mt-4 p-4 grid grid-cols-13 gap-3 grid-auto-rows grid-auto-flow\">\n      {/* add some spinner for loading */}\n      {imagesData.length === 0 && !error ? (\n        <h1 className=\"capitalize text-center mt-28 text-4xl\">\n          no images found\n        </h1>\n      ) : (\n        imagesData.map((imageData) => {\n          return (\n            <Card\n              cardStyle={indexArray[(indexArray.length * Math.random()) | 0]}\n              key={imageData.id}\n              img={imageData.webformatURL}\n              owner={imageData.user}\n              tags={imageData.tags.split(\",\")}\n              downloads={imageData.downloads}\n              likes={imageData.likes}\n              views={imageData.views}\n            />\n          );\n        })\n      )}\n    </div>\n  );\n  return cardConteiner;\n};\n\nexport default Cards;\n","import React from \"react\";\n\nconst Spinner = () => {\n  return (\n    <div className=\"loader ease-linear rounded-full border-8 h-16 w-16  mx-auto mt-8\"></div>\n  );\n};\n\nexport default Spinner;\n","import { useEffect, useReducer } from \"react\";\n\nconst ACTIONS = {\n  MAKE_REQUEST: \"make_request\",\n  GET_DATA: \"get_data\",\n  ERROR: \"error\",\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.MAKE_REQUEST:\n      return {\n        ...state,\n        error: null,\n        loading: true,\n      };\n\n    case ACTIONS.GET_DATA:\n      return {\n        ...state,\n        loading: false,\n        imagesData: action.payload.imagesData,\n      };\n\n    case ACTIONS.ERROR:\n      return { ...state, error: action.payload.error, loading: false };\n    default:\n      return state;\n  }\n};\n\nconst useFetchImages = (term, category) => {\n  const [state, dispatch] = useReducer(reducer, {\n    imagesData: [],\n    error: null,\n    loading: false,\n  });\n\n  useEffect(() => {\n    // send request after 300ms to not spam your server\n    const cancelRequestTimer = setTimeout(() => {\n      dispatch({ type: ACTIONS.MAKE_REQUEST });\n      const URL =\n        \"https://pixabay.com/api/?key=\" +\n        process.env.REACT_APP_PIXABAY_KEY +\n        \"&q=\" +\n        encodeURIComponent(term) +\n        `&category=${category}`;\n\n      fetch(URL)\n        .then((res) => res.json())\n        .then((res) => {\n          dispatch({\n            type: ACTIONS.GET_DATA,\n            payload: { imagesData: res.hits },\n          });\n        })\n        .catch((err) => {\n          dispatch({ type: ACTIONS.ERROR, payload: { error: err } });\n        });\n    }, 300);\n\n    return () => {\n      // clear the timeout if the component was re-rendred\n      clearTimeout(cancelRequestTimer);\n    };\n  }, [term, category]);\n\n  const error = state.error;\n  const imagesData = state.imagesData;\n  const loading = state.loading;\n  return { error, imagesData, loading };\n};\n\nexport default useFetchImages;\n","import React, { useState } from \"react\";\nimport ImageSearch from \"./../ImageSearch/ImageSearch\";\nimport Cards from \"../Cards/Cards\";\nimport Spinner from \"../Spinner/Spinner\";\nimport useFetchImages from \"../../hooks/useFetchImages\";\n\nconst Main = () => {\n  const [term, setTerm] = useState(\"\");\n  const [category, setCategory] = useState(\"food\");\n  const { error, imagesData, loading } = useFetchImages(term, category);\n\n  return (\n    <main className=\"mt-12 flex-1\">\n      <ImageSearch\n        term={term}\n        setTerm={setTerm}\n        category={category}\n        setCategory={setCategory}\n      />\n      {loading ? <Spinner /> : null}\n      {error ? (\n        <h1 className=\"capitalize text-center mt-28 text-4xl\">\n          an error occured, try reloading the page\n        </h1>\n      ) : null}\n      <Cards imagesData={imagesData} loading={loading} error={error} />\n    </main>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nconst Header = () => {\n  return (\n    <div className=\"bg-green-400 flex items-center justify-center py-2\">\n      <h1 className=\"capitalize text-green-900 text-4xl\">image gallery</h1>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <div className=\"block my-4\">\n      <p className=\"capitalize text-right mr-4\">\n        data from{\" \"}\n        <a\n          href=\"https://pixabay.com/\"\n          className=\"text-green-700 hover:text-green-400 underline\"\n        >\n          pixabay API\n        </a>\n      </p>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport Main from \"./components/Main/Main\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\n\nfunction App() {\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header />\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./assets/css/main.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}